{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { getEndpointConfig, processBotResponse } from '../utils/helpers';\nconst useChat = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('satirical-bot');\n  const [message, setMessage] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    if (e) e.preventDefault();\n    if (!message.trim()) return;\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date().toLocaleTimeString()\n    };\n    setChatHistory(prev => [...prev, userMessage]);\n    setLoading(true);\n    setError(null);\n    try {\n      const config = getEndpointConfig(activeTab, message);\n      const result = await axios(config);\n      const botResponse = processBotResponse(result, message);\n      const botMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: botResponse,\n        timestamp: new Date().toLocaleTimeString(),\n        endpoint: activeTab\n      };\n      setChatHistory(prev => [...prev, botMessage]);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'error',\n        content: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message || 'Something went wrong',\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setChatHistory(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n      setMessage('');\n    }\n  };\n  const clearChat = () => {\n    setChatHistory([]);\n    setError(null);\n  };\n  return {\n    activeTab,\n    setActiveTab,\n    message,\n    setMessage,\n    chatHistory,\n    loading,\n    error,\n    handleSubmit,\n    clearChat\n  };\n};\n_s(useChat, \"gXN9GdpJ3vIxGlqnD8GYWkb6Uc0=\");\nexport default useChat;","map":{"version":3,"names":["useState","axios","getEndpointConfig","processBotResponse","useChat","_s","activeTab","setActiveTab","message","setMessage","chatHistory","setChatHistory","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","userMessage","id","Date","now","type","content","timestamp","toLocaleTimeString","prev","config","result","botResponse","botMessage","endpoint","err","_err$response","_err$response$data","errorMessage","response","data","clearChat"],"sources":["/Users/ashraf/Desktop/Unmaad/client/src/hooks/useChat.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { getEndpointConfig, processBotResponse } from '../utils/helpers';\n\nconst useChat = () => {\n  const [activeTab, setActiveTab] = useState('satirical-bot');\n  const [message, setMessage] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (e) => {\n    if (e) e.preventDefault();\n    if (!message.trim()) return;\n\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date().toLocaleTimeString()\n    };\n\n    setChatHistory(prev => [...prev, userMessage]);\n    setLoading(true);\n    setError(null);\n\n    try {\n      const config = getEndpointConfig(activeTab, message);\n      const result = await axios(config);\n      const botResponse = processBotResponse(result, message);\n      const botMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: botResponse,\n        timestamp: new Date().toLocaleTimeString(),\n        endpoint: activeTab\n      };\n      setChatHistory(prev => [...prev, botMessage]);\n    } catch (err) {\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'error',\n        content: err.response?.data?.error || err.message || 'Something went wrong',\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setChatHistory(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n      setMessage('');\n    }\n  };\n\n  const clearChat = () => {\n    setChatHistory([]);\n    setError(null);\n  };\n\n  return {\n    activeTab,\n    setActiveTab,\n    message,\n    setMessage,\n    chatHistory,\n    loading,\n    error,\n    handleSubmit,\n    clearChat\n  };\n};\n\nexport default useChat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}